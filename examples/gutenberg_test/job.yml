# Example Job configuration for parsing Gutenberg test corpus
# You can append % to the names of objects or lists to inherit
# from the default configuration.

---
job%:
  # Input corpus options
  input:
    # Corpus parser class
    parser:
      name: input.formats.BookSampleParser
      parameters:
        corpus_path: examples/gutenberg_test/corpus

    # Tokenizer for creating chunks from input texts
    tokenizer:
      name: input.tokenizers.SentenceChunkTokenizer

      # Tokenizer-specific parameters
      parameters:
        chunk_size: $chunk_size
        language: "english"

  unmasking%.iterations: 24

  # Specify outputs. Since we are overriding the settings for the
  # UnmaskingCurvePlotter, we can't inherit from the default config
  outputs:
    - name: output.formats.UnmaskingStatAccumulator
      parameters: null
      events:
        - name: onPairGenerated
        - name: onUnmaskingFinished

    - name: output.formats.UnmaskingCurvePlotter
      parameters:
        display: true
        markers:
          SAME_AUTHOR: ["o", "same author", "#009900"]
          DIFFERENT_AUTHORS: ["x", "different authors", "#990000"]

        ylim: [0.0, 1.0]
        xlim: [0, 23]
      events:
        - name: onUnmaskingRoundFinished

    - name: output.formats.ProgressPrinter
      parameters:
        text: Chunking current pair
      events:
        - name: onProgress
          senders:
            - input.interfaces.SamplePair

  experiment%.configurations:
    # Perform and aggregate two runs, one with a chunk size of
    # 500 and one with a chunk size of 600
    chunk_size: [500, 600]
